<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vue Demo</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <style>
        .red {
            color: red;
        }

        .yellow {
            color: yellow;
        }
    </style>
</head>

<body>
    <div id="app">
        <div class="container">
            <h1>Hello, {{name}}</h1>
            <div class="form-row">
                <div class="input-group col-md-8">
                    <div class="input-group-prepend">
                        <label class="input-group-text" :class="classes" for="exampleFormControlInput1">Name</label>
                    </div>

                    <input type="text" class="form-control" :class="{ 'active': isInputActive, error: isInputError }" id="exampleFormControlInput1" placeholder="Your name" v-model="name">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="button" id="button-addon2">Disable name input</button>
                    </div>
                </div>
            </div>

            <p>Now: {{date | formatDate}}</p>
            <p>Now Time Compute: {{ nowTime }}</p>
            <p>Now Time Method: {{nowTimeMethod()}}</p>
            <p>{{link}}</p>
            <p v-pre>{{This content can't be rendered.}}</p>
            <p>{{ number / 10}}</p>
            <p>{{isOk ? 'Yes' : 'No'}}</p>
            <p>{{text.split(',').reverse().join(',')}}</p>
            <p>Compute Attribute:{{ reversedText }}</p>
            <p>Method Attribute: {{ reversedTextMethod() }}</p>
            <p v-if="show">Vue Directives</p>
            <p>
                <a v-bind:href="url">This is a link.</a>
            </p>
            <p>
                <a :href="url">This is a syntactic sugar binding data link.</a>
            </p>
            <p>
                <img v-bind:src="imageUrl" v-if="imageShow" alt="">
            </p>
            <p>
                <button v-on:click="handleCloseLink">Hide the image.</button>
            </p>
            <p>
                <button @click="handleCloseLink">Syntactic sugar binding event button.</button>
            </p>
            <p>
                <button v-on:click="handleHideImage">Hide the image with v-on patten.</button>
            </p>
            <p :class="mutipleClassArr">Mutiple class array test</p>
            <button :class="classesWithComputed">Mutiple class array with computed attribute</button>
            <p :style="styles">Inline style</p>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
    <script>
        var padDate = function (value) {
            return value < 10 ? '0' + value : value;
        }
        var app = new Vue({
            el: document.getElementById('app'),
            data: {
                name: 'Jason',
                date: new Date(),
                link: '<a href="#">This is a link.</a>',
                number: 5,
                isOk: true,
                text: 'Jason,Zhang',
                show: true,
                url: 'http://www.google.com',
                imageUrl: 'https://vuejs.org/images/logo.png',
                imageShow: true,
                isInputActive: true,
                isInputError: false,
                mutipleClassArr: ['className1', 'className2', 'className3'],
                styles: {
                    color: 'red',
                    fontSize: 14 + 'px'
                }
            },
            created() {
                console.log(this.name);
            },
            mounted() {
                this.init();
                var _this = this;
                this.timer = setInterval(function () {
                    _this.date = new Date();
                }, 1000);
            },
            beforeDestroy() {
                if (this.timer) {
                    clearInterval(this.timer);
                }
            },
            filters: {
                formatDate(value) {
                    var date = new Date(value);
                    var year = date.getFullYear();
                    var month = padDate(date.getMonth() + 1);
                    var day = padDate(date.getDate());
                    var hour = padDate(date.getHours());
                    var minute = padDate(date.getMinutes());
                    var second = padDate(date.getSeconds());
                    return year + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second;
                }
            },
            //support param|re-render will be call
            methods: {
                init() {
                    console.log('Vue app init successful!');
                },
                handleCloseLink() {
                    this.handleHideImage();
                },
                handleHideImage() {
                    this.imageShow = false;
                },
                reversedTextMethod() {
                    return this.text.split(',').reverse().join(',');
                },
                nowTimeMethod() {
                    return Date.now();
                }
            },
            //cached
            computed: {
                reversedText() {
                    return this.text.split(',').reverse().join(',');
                },
                nowTime() {
                    return Date.now();
                },
                classes(){
                    return {
                        active: this.isInputActive && !this.isInputError
                    }
                },
                classesWithComputed(){
                    return [
                        'btn',
                        {
                            ['btn-' + this.name] : this.name == 'Jason'
                        }
                    ]
                }
            }
        });

    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
</body>

</html>